!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.VueTables=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){exports.server=_dereq_("./lib/v-client-table"),exports.client=_dereq_("./lib/v-server-table")},{"./lib/v-client-table":6,"./lib/v-server-table":7}],2:[function(_dereq_,module,exports){module.exports='<div class="vue-table-wrapper">\n<div class="row">\n<div class="col-md-6">\n<div class="form-group form-inline pull-left vue-table-search">\n<label>{{texts.filter}}</label>\n	<input class="form-control" type="text" name="vue-search" placeholder="{{texts.filterPH}}" @keyup="setPage(1)" v-model="query">\n</div>\n</div>\n<div class="col-md-6">\n<div class="form-group form-inline pull-right vue-limit">\n <label>{{texts.limit}}</label>\n <select class="form-control" v-model="limit" name="{{filterPH}}" @change="setPage(1)" >\n 	<option v-for="length in lengths">{{length}}</option>\n </select>\n </div>\n</div>\n</div>\n\n	<table class="vue-table table table-striped">\n				<thead>\n					<th @click="orderByColumn(cols[$index])" v-for="col in cols"><span class=\'vue-table-heading\'>{{getHeading(col)}}</span><i class="vue-table-sort-icon text-muted fa" v-bind:class="orderClass($index)"></i></th>\n				</thead>\n				<tbody>\n					<tr v-for="row in $parent.tableData | filterBy query | orderBy orderBy ascending | setCount |  page " track-by="id">\n							<td v-for="column in cols" v-html="row[column]"></td>\n					</tr>\n				</tbody>\n\n	</table>\n\n<ul class="pagination vue-table-pagination" v-show="totalPages>1">\n  <li v-for="page in totalPages" v-bind:class="active($index)"><a href="#" @click="setPage($index+1)">{{$index +1}}</a></li>\n\n</ul>\n\n<p>{{displayText(texts.count, count)}}</p>\n</div>\n'},{}],3:[function(_dereq_,module,exports){module.exports=function(data){var limit=parseInt(this.limit),page=parseInt(this.page),offset=limit*(page-1);return data.slice(offset,limit+offset)}},{}],4:[function(_dereq_,module,exports){module.exports=function(data){return this.currentRecordsCount=data.length,data}},{}],5:[function(_dereq_,module,exports){module.exports='<div class="vue-table-wrapper">\n<div class="row">\n<div class="col-md-6">\n<div class="form-group form-inline pull-left vue-table-search">\n<label>{{texts.filter}}</label>\n	<input class="form-control" type="text" name="vue-search" placeholder="{{texts.filterPH}}" @keyup="setPage(1)" v-model="query">\n</div>\n</div>\n<div class="col-md-6">\n<div class="form-group form-inline pull-right vue-limit">\n <label>{{texts.limit}}</label>\n <select class="form-control" v-model="limit" name="{{filterPH}}" @change="setPage(1)" >\n 	<option v-for="length in lengths">{{length}}</option>\n </select>\n </div>\n</div>\n</div>\n\n	<table class="vue-table table table-striped">\n				<thead>\n					<th @click="orderByColumn(cols[$index]);"  v-for="col in cols"><span class="vue-table-heading">{{getHeading(col)}}</span><i class="vue-table-sort-icon text-muted fa" v-bind:class="orderClass($index)"></i></th>\n				</thead>\n\n				<tbody>\n					<tr v-for="row in tableData">\n							<td v-for="column in cols" v-html="row[column]"></td>\n					</tr>\n				</tbody>\n\n	</table>\n\n<ul class="pagination vue-table-pagination">\n  <li v-show="totalPages>1" v-for="page in totalPages" v-bind:class="active($index)"><a href="#" @click="setPage($index+1)">{{$index +1}}</a></li>\n</ul>\n\n<p>{{displayText(texts.count, count)}}</p>\n</div>\n'},{}],6:[function(_dereq_,module,exports){exports.install=function(Vue,opts){var client={template:_dereq_("./client-table.html"),ready:function(){var that=this,data=JSON.parse(JSON.stringify(this.$parent.tableData));this.cols=this.getColumns(),this.orderBy=this.cols[0],this.$parent.hasOwnProperty("templates")&&that.renderTemplates(this.$parent.templates,data),this.$parent.hasOwnProperty("extras")&&this.renderTemplates(this.$parent.extras,data),this.currentRecordsCount=this.$parent.tableData.length},data:function(){return{cols:!1,totalPages:null,currentRecordsCount:null,lengths:[5,10,20,50],ascending:!0,orderBy:null,query:"",page:1,limit:5,currentRecordsCount:null,texts:{count:"{count} Records",filter:"Filter Results:",filterPH:"Search query",limit:"Records:"}}},computed:{totalPages:{get:function(){return Math.ceil(this.currentRecordsCount/this.limit)}},count:{get:function(){return this.currentRecordsCount}}},filters:{page:_dereq_("./filters/page"),setCount:_dereq_("./filters/set-count")},methods:{getObjectKeys:function(obj){var keys=[];for(var prop in obj)keys.push(prop);return keys},active:function(index){return this.page==index+1?"active":""},orderClass:function(index){return this.cols[index]!=this.orderBy?"":1==this.ascending?"fa-sort-asc":"fa-sort-desc"},getCellView:function(index,prop){var match,data=this.$parent.tableData[index];if("undefined"==typeof this.$parent.templates||!this.$parent.templates.hasOwnProperty(prop)||!this.$parent.templates[prop].hasOwnProperty("html"))return data[prop];var template=this.$parent.templates[prop],html=this.$parent.templates[prop].html;return template.params.forEach(function(param){match=new RegExp("{"+param+"}"),html=html.replace(match,data[param])}),html},displayText:function(text,param){return text.replace(/{.+}/,param)},orderByColumn:function(colName){colName==this.orderBy&&(this.ascending=1==this.ascending?-1:1),this.orderBy=colName},getHeading:function(value){return this.$parent.hasOwnProperty("headings")&&this.$parent.headings.hasOwnProperty(value)?this.$parent.headings[value]:value.split("_").join(" ")},setPage:function(page){this.page=page},renderTemplates:function(cols,data){var regex,field,columns=this.getObjectKeys(data[0]);data.forEach(function(row,index){for(var col in cols)field=cols[col],columns.forEach(function(column){regex=new RegExp("{"+column+"}","g"),field=field.replace(regex,row[column])}),this.$parent.tableData[index][col]=field}.bind(this))},getColumns:function(){var columns=[],userColumns=this.$parent.columns,extras="undefined"==typeof this.$parent.extras?!1:this.$parent.extras;for(var x in this.$parent.tableData[0])(!userColumns||$.inArray(x,userColumns)>-1)&&columns.push(x);if(extras)for(var column in extras)columns.push(column);return columns}}};Vue.component("v-client-table",client)}},{"./client-table.html":2,"./filters/page":3,"./filters/set-count":4}],7:[function(_dereq_,module,exports){exports.install=function(Vue,options){var server={template:_dereq_("./server-table.html"),ready:function(){this.getDataFromServer(!0)},data:function(){return{tableData:[],cols:!1,totalPages:null,currentRecordsCount:null,lengths:[5,10,20,50],ascending:!0,orderBy:null,query:"",page:1,limit:5,currentRecordsCount:null,texts:{count:"{count} Records",filter:"Filter Results:",filterPH:"Search query",limit:"Records:"}}},computed:{totalPages:{get:function(){return Math.ceil(this.currentRecordsCount/this.limit)}},count:{get:function(){return this.currentRecordsCount}}},filters:{page:_dereq_("./filters/page"),setCount:_dereq_("./filters/set-count")},methods:{getObjectKeys:function(obj){var keys=[];for(var prop in obj)keys.push(prop);return keys},renderTemplates:function(cols,data){var regex,field,columns=this.getObjectKeys(data[0]);data.forEach(function(row,index){for(var col in cols)field=cols[col],columns.forEach(function(column){regex=new RegExp("{"+column+"}","g"),field=field.replace(regex,row[column])}),this.tableData[index][col]=field}.bind(this))},orderClass:function(index){return this.cols[index]!=this.orderBy?"":1==this.ascending?"fa-sort-asc":"fa-sort-desc"},active:function(index){return this.page==index+1?"active":""},displayText:function(text,param){return text.replace(/{.+}/,param)},orderByColumn:function(colName){colName==this.orderBy&&(this.ascending=1==this.ascending?-1:1),this.orderBy=colName,this.getDataFromServer()},getHeading:function(value){return"undefined"!=typeof this.$parent.headings&&this.$parent.headings.hasOwnProperty(value)?this.$parent.headings[value]:value.split("_").join(" ")},getDataFromServer:function(first){var that=this,promise=$.ajax({url:this.$parent.url,data:{query:this.query.trim(),limit:this.limit,orderBy:this.orderBy,ascending:this.ascending,page:this.page},success:function(data){var tdata=JSON.parse(JSON.stringify(data.data));that.tableData=data.data,first&&(that.cols=that.getColumns(),that.orderBy=that.cols[0]),that.$parent.hasOwnProperty("templates")&&that.renderTemplates(that.$parent.templates,tdata),"undefined"!=typeof that.$parent.extras&&that.renderTemplates(that.$parent.extras,tdata),that.currentRecordsCount=data.count},dataType:"json"});return promise},setPage:function(page){this.page=page,this.getDataFromServer()},getColumns:function(){var columns=[],userColumns=this.$parent.columns,extras="undefined"==typeof this.$parent.extras?!1:this.$parent.extras;for(var x in this.tableData[0])(!userColumns||$.inArray(x,userColumns)>-1)&&columns.push(x);if(extras)for(var column in extras)columns.push(column);return columns}}};Vue.component("v-server-table",server)}},{"./filters/page":3,"./filters/set-count":4,"./server-table.html":5}]},{},[1])(1)});
