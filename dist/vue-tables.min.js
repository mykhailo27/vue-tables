!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.VueTables=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){exports.client=_dereq_("./lib/v-client-table"),exports.server=_dereq_("./lib/v-server-table")},{"./lib/v-client-table":19,"./lib/v-server-table":20}],2:[function(_dereq_,module,exports){module.exports=function(index){return this.page==index+1?"active":""}},{}],3:[function(_dereq_,module,exports){module.exports=function(text,param){return text.replace(/{.+}/,param)}},{}],4:[function(_dereq_,module,exports){module.exports=function(source){var columns=[],userColumns=this.$parent.columns,extras="undefined"==typeof this.$parent.extras?!1:this.$parent.extras,data="client"==source?this.$parent.tableData:this.tableData;for(var x in data[0])(!userColumns||$.inArray(x,userColumns)>-1)&&columns.push(x);if(extras)for(var column in extras)columns.push(column);return columns}},{}],5:[function(_dereq_,module,exports){module.exports=function(value){return"undefined"!=typeof this.$parent.headings&&this.$parent.headings.hasOwnProperty(value)?this.$parent.headings[value]:value.split("_").join(" ")}},{}],6:[function(_dereq_,module,exports){module.exports=function(){return{tableData:[],cols:!1,totalPages:null,currentRecordsCount:null,lengths:[5,10,20,50],ascending:!0,orderBy:null,query:"",page:1,limit:5,count:0,currentRecordsCount:null,texts:{count:"{count} Records",filter:"Filter Results:",filterPlaceholder:"Search query",limit:"Records:",sortable:[]}}}},{}],7:[function(_dereq_,module,exports){module.exports=function(colName,source){this.sortable(colName,source)&&(colName==this.orderBy&&(this.ascending=1==this.ascending?-1:1),this.orderBy=colName,"server"==source&&this.getDataFromServer())}},{}],8:[function(_dereq_,module,exports){module.exports=function(index){return this.sortable(this.cols[index])?this.cols[index]!=this.orderBy?"":1==this.ascending?"fa-sort-asc":"fa-sort-desc":void 0}},{}],9:[function(_dereq_,module,exports){var object_keys=_dereq_("../helpers/object-keys");module.exports=function(cols,data,source){var regex,field,columns=object_keys(data[0]),tableData="client"==source?this.$parent.tableData:this.tableData;data.forEach(function(row,index){for(var col in cols)field=cols[col],columns.forEach(function(column){regex=new RegExp("{"+column+"}","g"),field=field.replace(regex,row[column])}),tableData[index][col]=field}.bind(this))}},{"../helpers/object-keys":18}],10:[function(_dereq_,module,exports){module.exports=function(page,source){this.page=page,"server"==source&&this.getDataFromServer()}},{}],11:[function(_dereq_,module,exports){var object_keys=_dereq_("../helpers/object-keys");module.exports=function(column,source){var userDefaults=!this.$parent.hasOwnProperty("sortable"),isExtra=this.$parent.hasOwnProperty("extras")&&column.indexOf(object_keys(this.$parent.extras))>-1;return(userDefaults||"server"==source)&&isExtra?!1:userDefaults&&!isExtra?!0:this.$parent.sortable.indexOf(column)>-1}},{"../helpers/object-keys":18}],12:[function(_dereq_,module,exports){module.exports={get:function(){return Math.ceil(this.count/this.limit)}}},{}],13:[function(_dereq_,module,exports){module.exports=function(property){return property instanceof Date?this.dateFormatter(property):property}},{}],14:[function(_dereq_,module,exports){module.exports=function(data){var limit=parseInt(this.limit),page=parseInt(this.page),offset=limit*(page-1);return data.slice(offset,limit+offset)}},{}],15:[function(_dereq_,module,exports){module.exports=function(data){return this.count=data.length,data}},{}],16:[function(_dereq_,module,exports){module.exports={units:[],separator:null,get:function(format){if("undefined"==typeof format)return function(date){return date.toLocaleDateString()};var regex=new RegExp("[-./]"),separator=format.match(regex);this.separator=separator?separator[0]:"-";var units=format.split(regex);return units.every(function(unit,index){return(unit=this._getUnitFunction(unit))?(this.units.push(unit),!0):!1}.bind(this)),this.units.length<1||this.units.length>3?(console.warn("Invalid Date Format:"+format),function(date){return date.toLocaleDateString()}):function(date){var formattedDate="";return this.units.forEach(function(unit){formattedDate+=unit(date)+this.separator}.bind(this)),formattedDate.slice(0,-1)}.bind(this)},_getUnitFunction:function(unit){switch(unit){case"d":return function(date){return date.getDate()};case"m":return function(date){return date.getMonth()+1};case"D":return function(date){return("0"+date.getDate()).slice(-2)};case"M":return function(date){return("0"+(date.getMonth()+1)).slice(-2)};case"Y":case"y":return function(date){return date.getFullYear()}}return!1}}},{}],17:[function(_dereq_,module,exports){module.exports=function(obj1,obj2){var obj3={};for(var attrname in obj1)obj3[attrname]=obj1[attrname];for(var attrname in obj2)obj3[attrname]=obj2[attrname];return obj3}},{}],18:[function(_dereq_,module,exports){module.exports=function(obj){var keys=[];for(var prop in obj)keys.push(prop);return keys}},{}],19:[function(_dereq_,module,exports){exports.install=function(Vue,opts){var merge_options=_dereq_("./helpers/merge-options"),client={template:'<div class="vue-table-wrapper"><div class="row"><div class="col-md-6"><div class="form-group form-inline pull-left vue-table-search"><label>{{texts.filter}}</label><input class="form-control" type="text" name="vue-search" placeholder="{{texts.filterPlaceholder}}" @keyup="setPage(1,\'client\')" v-model="query"></div></div><div class="col-md-6"><div class="form-group form-inline pull-right vue-limit"> <label>{{texts.limit}}</label> <select class="form-control" v-model="limit" name="{{filterPH}}" @change="setPage(1,\'client\')" > <option v-for="length in lengths">{{length}}</option> </select> </div></div></div><table class="vue-table table table-striped"><thead><th @click="orderByColumn(cols[$index],\'client\')" v-for="col in cols"><span class="vue-table-heading">{{getHeading(col)}}</span><i class="vue-table-sort-icon text-muted fa" v-bind:class="orderClass($index)"></i></th></thead><tbody><tr v-for="row in $parent.tableData | filterBy query | orderBy orderBy ascending | setCount | page " track-by="id"><td v-for="column in cols" v-html="row[column] | date"></td></tr></tbody></table><ul class="pagination vue-table-pagination" v-show="totalPages>1"> <li v-for="page in totalPages" v-bind:class="active($index)"><a href="javascript:void(0);" @click="setPage($index+1, \'client\')">{{$index +1}}</a></li></ul><p>{{displayText(texts.count, count)}}</p></div>',ready:function(){this.dateFormatter=_dereq_("./helpers/date-formatter").get(this.$parent.dateFormat);var data=JSON.parse(JSON.stringify(this.$parent.tableData));this.$parent.hasOwnProperty("texts")&&(this.texts=merge_options(this.texts,this.$parent.texts)),this.cols=this.getColumns("client"),this.orderBy=this.cols[0],this.$parent.hasOwnProperty("templates")&&this.renderTemplates(this.$parent.templates,data,"client"),this.$parent.hasOwnProperty("extras")&&this.renderTemplates(this.$parent.extras,data,"client"),this.count=this.$parent.tableData.length},data:_dereq_("./common/initial-data.js"),computed:{totalPages:_dereq_("./common/total-pages")},filters:{page:_dereq_("./filters/page"),setCount:_dereq_("./filters/set-count"),date:_dereq_("./filters/date")},methods:{active:_dereq_("./common/active"),orderClass:_dereq_("./common/order-class"),displayText:_dereq_("./common/display-text"),orderByColumn:_dereq_("./common/order-by-column"),getHeading:_dereq_("./common/get-heading"),setPage:_dereq_("./common/set-page"),renderTemplates:_dereq_("./common/render-templates"),getColumns:_dereq_("./common/get-columns"),sortable:_dereq_("./common/sortable")}};Vue.component("v-client-table",client)}},{"./common/active":2,"./common/display-text":3,"./common/get-columns":4,"./common/get-heading":5,"./common/initial-data.js":6,"./common/order-by-column":7,"./common/order-class":8,"./common/render-templates":9,"./common/set-page":10,"./common/sortable":11,"./common/total-pages":12,"./filters/date":13,"./filters/page":14,"./filters/set-count":15,"./helpers/date-formatter":16,"./helpers/merge-options":17}],20:[function(_dereq_,module,exports){exports.install=function(Vue,options){var merge_options=_dereq_("./helpers/merge-options"),server={template:'<div class="vue-table-wrapper"><div class="row"><div class="col-md-6"><div class="form-group form-inline pull-left vue-table-search"><label>{{texts.filter}}</label><input class="form-control" type="text" name="vue-search" placeholder="{{texts.filterPlaceholder}}" @keyup="setPage(1,\'server\')" v-model="query"></div></div><div class="col-md-6"><div class="form-group form-inline pull-right vue-limit"> <label>{{texts.limit}}</label> <select class="form-control" v-model="limit" name="{{filterPlaceholder}}" @change="setPage(1, \'server\')" > <option v-for="length in lengths">{{length}}</option> </select> </div></div></div><table class="vue-table table table-striped"><thead><th @click="orderByColumn(cols[$index],\'server\');" v-for="col in cols"><span class="vue-table-heading">{{getHeading(col)}}</span><i class="vue-table-sort-icon text-muted fa" v-bind:class="orderClass($index)"></i></th></thead><tbody><tr v-for="row in tableData"><td v-for="column in cols" v-html="row[column]"></td></tr></tbody></table><ul class="pagination vue-table-pagination"> <li v-show="totalPages>1" v-for="page in totalPages" v-bind:class="active($index)"><a href="javascript:void(0);" @click="setPage($index+1,\'server\')">{{$index +1}}</a></li></ul><p>{{displayText(texts.count, count)}}</p></div>',ready:function(){this.$parent.hasOwnProperty("texts")&&(this.texts=merge_options(this.texts,this.$parent.texts)),this.getDataFromServer(!0)},data:_dereq_("./common/initial-data"),computed:{totalPages:_dereq_("./common/total-pages")},methods:{active:_dereq_("./common/active"),orderClass:_dereq_("./common/order-class"),displayText:_dereq_("./common/display-text"),orderByColumn:_dereq_("./common/order-by-column"),getHeading:_dereq_("./common/get-heading"),setPage:_dereq_("./common/set-page"),renderTemplates:_dereq_("./common/render-templates"),getColumns:_dereq_("./common/get-columns"),sortable:_dereq_("./common/sortable"),getDataFromServer:function(first){var that=this,promise=$.ajax({url:this.$parent.url,dataType:"json",data:{query:this.query.trim(),limit:this.limit,orderBy:this.orderBy,ascending:this.ascending,page:this.page},success:function(data){var tdata=JSON.parse(JSON.stringify(data.data));that.tableData=data.data,that.count=data.count,first&&(that.cols=that.getColumns("server"),that.orderBy=that.cols[0]),that.$parent.hasOwnProperty("templates")&&that.renderTemplates(that.$parent.templates,tdata),"undefined"!=typeof that.$parent.extras&&that.renderTemplates(that.$parent.extras,tdata)}});return promise}}};Vue.component("v-server-table",server)}},{"./common/active":2,"./common/display-text":3,"./common/get-columns":4,"./common/get-heading":5,"./common/initial-data":6,"./common/order-by-column":7,"./common/order-class":8,"./common/render-templates":9,"./common/set-page":10,"./common/sortable":11,"./common/total-pages":12,"./helpers/merge-options":17}]},{},[1])(1)});
