!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.VueTables=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports={get:function(){return Math.ceil(this.page/this.options.pagination.chunk)}}},{}],2:[function(require,module,exports){module.exports={get:function(){return(this.currentChunk-1)*this.options.pagination.chunk+1}}},{}],3:[function(require,module,exports){module.exports=function(){return this.options.filterByColumn?JSON.stringify(this.query):this.query}},{}],4:[function(require,module,exports){module.exports={get:function(){return Math.ceil(this.totalPages/this.options.pagination.chunk)}}},{}],5:[function(require,module,exports){module.exports={get:function(){return Math.ceil(this.count/this.limit)}}},{}],6:[function(require,module,exports){module.exports=function(){return{columns:[],dateColumns:[],datepickerOptions:{},perPage:10,perPageValues:[10,25,50,100],sortable:[],templates:{},compileTemplates:!1,delay:500,dateFormat:"DD/MM/YYYY",skin:"table-striped table-bordered table-hover",texts:{count:"{count} Records",filter:"Filter Results:",filterPlaceholder:"Search query",limit:"Records:",page:"Page:",noResults:"No matching records",filterBy:"Filter by {column}"},filterByColumn:!1,highlightMatches:!1,orderBy:!1,footerHeadings:!1,headings:{},pagination:{dropdown:!1,chunk:10}}}},{}],7:[function(require,module,exports){var is_valid_moment_object=require("../helpers/is-valid-moment-object");module.exports=function(property){return is_valid_moment_object(property)?property.format(this.options.dateFormat):property}},{"../helpers/is-valid-moment-object":15}],8:[function(require,module,exports){module.exports=function(property,column){if(!this.options.highlightMatches||this.templatesKeys.indexOf(column)>-1)return property;var query=this.options.filterByColumn?this.query[column]:this.query;return query?(query=new RegExp(query,"i"),property=String(property).replace(query,function(highlight){return"<b class='VueTables__highlight'>"+highlight+"</b>"})):property}},{}],9:[function(require,module,exports){module.exports=function(data){var limit=parseInt(this.limit),page=parseInt(this.page),offset=limit*(page-1);return data.slice(offset,limit+offset)}},{}],10:[function(require,module,exports){function wrapTemplate(tpl){return"<span class='VueTables__template'>"+tpl+"</span>"}module.exports=function(value,row,column){if(-1==this.templatesKeys.indexOf(column))return value;var regex;if("function"==typeof this.options.templates[column]){var tpl=this.options.templates[column](row);return wrapTemplate(tpl)}var template=wrapTemplate(this.options.templates[column]);return this.allColumns.forEach(function(col){regex=new RegExp("{"+col+"}","g"),template=template.replace(regex,String(row[col]))}.bind(this)),template}},{}],11:[function(require,module,exports){function setCurrentQuery(query){return query?"string"==typeof query?query.toLowerCase():query:""}function foundMatch(query,value){if("string"==typeof value)return value.indexOf(query)>-1;var start=moment(query.start,"YYYY-MM-DD"),end=moment(query.end,"YYYY-MM-DD");return value>=start&&end>=value}function getValue(val,filterByDate,dateFormat){return is_valid_moment_object(val)?filterByDate?val:val.format(dateFormat):String(val).toLowerCase()}var object_filled_keys_count=require("../helpers/object-filled-keys-count"),is_valid_moment_object=require("../helpers/is-valid-moment-object");module.exports=function(data,query){var totalQueries=query?1:0;if(this.options.filterByColumn&&(query=JSON.parse(query),totalQueries=object_filled_keys_count(query)),!totalQueries)return data;var value,found,currentQuery,filterByDate,dateFormat=this.options.dateFormat;return data.filter(function(row,index){return found=0,this.queryable.forEach(function(column){filterByDate=this.options.dateColumns.indexOf(column)>-1&&this.options.filterByColumn,value=getValue(row[column],filterByDate,dateFormat),currentQuery=this.options.filterByColumn?query[column]:query,currentQuery=setCurrentQuery(currentQuery),currentQuery&&foundMatch(currentQuery,value)&&found++}.bind(this)),found>=totalQueries}.bind(this))}},{"../helpers/is-valid-moment-object":15,"../helpers/object-filled-keys-count":16}],12:[function(require,module,exports){module.exports=function(data){return this.count=data.length,data}},{}],13:[function(require,module,exports){module.exports=function(a){return this.filter?this.filter(function(i){return a.indexOf(i)<0}):[]}},{}],14:[function(require,module,exports){module.exports=function(replacements){var template=require("../table-template.html");for(var replacement in replacements)template=template.replace("[["+replacement+"]]",replacements[replacement]);return template}},{"../table-template.html":45}],15:[function(require,module,exports){module.exports=function(val){return val&&"function"==typeof val.isValid&&val.isValid()}},{}],16:[function(require,module,exports){module.exports=function(obj){var count=0;for(var prop in obj){var isDateRange="object"==typeof obj[prop];(isDateRange||obj[prop].trim())&&count++}return count}},{}],17:[function(require,module,exports){module.exports=function(obj){var keys=[];for(var prop in obj)keys.push(prop);return keys}},{}],18:[function(require,module,exports){module.exports=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},{}],19:[function(require,module,exports){module.exports=function(index){return this.page==index+1?"active":""}},{}],20:[function(require,module,exports){module.exports=function(){this.data.forEach(function(row,index){this.customColumns.forEach(function(custom){this.$set("data["+index+"]."+custom,this.options.templates[custom])}.bind(this))}.bind(this))}},{}],21:[function(require,module,exports){module.exports=function(direction){return 1==direction&&this.currentChunk==this.totalChunks||-1==direction&&1==this.currentChunk}},{}],22:[function(require,module,exports){module.exports=function(direction){var page=(this.currentChunk-1+direction)*this.options.pagination.chunk+1;this.setPage(page)}},{}],23:[function(require,module,exports){module.exports=function(){var tbody=this.$els.tbody;this.$compile(tbody)}},{}],24:[function(require,module,exports){module.exports=function(text,value){if(!this.options.texts)return"";var text=this.options.texts[text];return text&&value&&(text=text.replace(/{.+}/,value)),text}},{}],25:[function(require,module,exports){module.exports=function(){var data={query:this.query,limit:this.limit,orderBy:this.orderBy.column,ascending:this.orderBy.ascending,page:this.page,byColumn:this.options.filterByColumn?1:0};return this.$dispatch("vue-tables.loading",data),this.$http.get(this.url,data)}},{}],26:[function(require,module,exports){module.exports=function(value){return this.options.headings.hasOwnProperty(value)?this.options.headings[value]:value.split("_").join(" ").ucfirst()}},{}],27:[function(require,module,exports){var merge=require("merge");module.exports=function(){var el,datepickerOptions=merge.recursive(this.options.datepickerOptions,{autoUpdateInput:!1,singleDatePicker:!1,locale:{format:this.options.dateFormat}}),that=this;that.options.dateColumns.forEach(function(column){el=$(that.$el).find("input[name="+column+"]"),el.daterangepicker(datepickerOptions),el.on("apply.daterangepicker",function(ev,picker){that.query[column]={start:picker.startDate.format("YYYY-MM-DD"),end:picker.endDate.format("YYYY-MM-DD")},$(this).val(picker.startDate.format(that.options.dateFormat)+" - "+picker.endDate.format(that.options.dateFormat)),"server"==that.source&&that.search()})})}},{merge:48}],28:[function(require,module,exports){var merge=require("merge");module.exports=function(defaults,globalOptions,localOptions){return globalOptions&&(defaults=merge.recursive(defaults,globalOptions)),localOptions=merge.recursive(defaults,localOptions)}},{merge:48}],29:[function(require,module,exports){module.exports=function(column){return this.options.orderBy?(this.orderBy.column=this.options.orderBy.column,void(this.orderBy.ascending=this.options.orderBy.ascending?1:-1)):void(this.orderBy.column=column)}},{}],30:[function(require,module,exports){module.exports=function(queryable){if(!this.options.filterByColumn)return"";var query={};return queryable.forEach(function(column){query[column]=""}.bind(this)),query}},{}],31:[function(require,module,exports){module.exports=function(colName){this.sortable(colName)&&(colName==this.orderBy.column&&(this.orderBy.ascending=1==this.orderBy.ascending?-1:1),this.orderBy.column=colName,"server"==this.source&&this.getData().then(function(data){this.setData(data.data)}.bind(this)))}},{}],32:[function(require,module,exports){module.exports=function(direction){return 1==direction&&this.page==this.totalPages||-1==direction&&1==this.page}},{}],33:[function(require,module,exports){module.exports=function(){this.search(this.byColumn)}},{}],34:[function(require,module,exports){module.exports=function(){if("client"==this.source)return void(this.page=1);var elapsed;this.lastKeyStrokeAt=new Date,setTimeout(function(){elapsed=new Date-this.lastKeyStrokeAt,elapsed>=this.options.delay&&(this.page=1,this.getData().then(function(data){var data=data.data;this.setData(data)}.bind(this)))}.bind(this),this.options.delay)}},{}],35:[function(require,module,exports){module.exports=function(){var expressions=["count","limit","page","orderBy.column","orderBy.ascending"];expressions.forEach(function(expression){this.$watch(expression,function(){setTimeout(function(){this.compileTemplates()}.bind(this),0)})}.bind(this))}},{}],36:[function(require,module,exports){module.exports=function(data){this.data=data.data,this.count=data.count,this.addCustomColumns(),setTimeout(function(){this.$dispatch("vue-tables.loaded",data)}.bind(this),0)}},{}],37:[function(require,module,exports){module.exports=function(page){this.page=page,"server"==this.source&&this.getData().then(function(data){this.setData(data.data)}.bind(this))}},{}],38:[function(require,module,exports){module.exports=function(column){return this.sortable(column)?column!=this.orderBy.column?"":1==this.orderBy.ascending?"glyphicon-chevron-up":"glyphicon-chevron-down":void 0}},{}],39:[function(require,module,exports){module.exports=function(column){return this.sortable(column)?"VueTables__sortable":""}},{}],40:[function(require,module,exports){module.exports=function(column){var isCustomColumn=this.customColumns.indexOf(column)>-1;if(isCustomColumn)return!1;var sortAll=!this.options.sortable.length;return sortAll?!0:this.options.sortable.indexOf(column)>-1}},{}],41:[function(require,module,exports){module.exports={computed:{totalPages:require("../computed/total-pages"),paginationStart:require("../computed/pagination-start"),totalChunks:require("../computed/total-chunks"),currentChunk:require("../computed/current-chunk")}}},{"../computed/current-chunk":1,"../computed/pagination-start":2,"../computed/total-chunks":4,"../computed/total-pages":5}],42:[function(require,module,exports){module.exports={data:function(){return{columns:[],allColumns:!1,totalPages:null,query:null,page:1,count:0,limit:10,queryable:[],orderBy:{column:"id",ascending:1}}}}},{}],43:[function(require,module,exports){module.exports={filters:{render:require("../filters/render"),highlightMatches:require("../filters/highlight-matches")}}},{"../filters/highlight-matches":8,"../filters/render":10}],44:[function(require,module,exports){module.exports={methods:{initQuery:require("../methods/init-query"),initOptions:require("../methods/init-options"),active:require("../methods/active"),sortableClass:require("../methods/sortable-class"),sortableChevronClass:require("../methods/sortable-chevron-class"),display:require("../methods/display"),orderByColumn:require("../methods/order-by-column"),getHeading:require("../methods/get-heading"),setPage:require("../methods/set-page"),addCustomColumns:require("../methods/add-custom-columns"),sortable:require("../methods/sortable"),chunk:require("../methods/chunk"),pageNavDisabled:require("../methods/page-nav-disabled"),chunkNavDisabled:require("../methods/chunk-nav-disabled"),display:require("../methods/display"),search:require("../methods/search"),initOrderBy:require("../methods/init-order-by"),compileTemplates:require("../methods/compile-templates"),initDateFilters:require("../methods/init-date-filters")}}},{"../methods/active":19,"../methods/add-custom-columns":20,"../methods/chunk":22,"../methods/chunk-nav-disabled":21,"../methods/compile-templates":23,"../methods/display":24,"../methods/get-heading":26,"../methods/init-date-filters":27,"../methods/init-options":28,"../methods/init-order-by":29,"../methods/init-query":30,"../methods/order-by-column":31,"../methods/page-nav-disabled":32,"../methods/search":34,"../methods/set-page":37,"../methods/sortable":40,"../methods/sortable-chevron-class":38,"../methods/sortable-class":39}],45:[function(require,module,exports){module.exports='<div class="VueTables VueTables--[[source]]">\n  <div class="row">\n    <div class="col-md-6">\n      <div v-if="!options.filterByColumn" class="form-group form-inline pull-left VueTables__search">\n        <label>{{display(\'filter\')}}</label>\n        <input class="form-control"\n        type="text"\n        placeholder="{{display(\'filterPlaceholder\')}}"\n        @keyup="search()"\n        v-model="query"/>\n      </div>\n    </div>\n\n    <div class="col-md-6">\n      <div v-if="options.pagination && options.pagination.dropdown && totalPages>0"\n        class="form-group form-inline pull-right VueTables__dropdown-pagination">\n        <label>{{display(\'page\')}}</label>\n        <select class="form-control"\n        v-model="page"\n        @change="setPage(page)">\n        <option v-for="page in totalPages">{{page+1}}</option>\n      </select>\n    </div>\n\n    <div class="form-group form-inline pull-right VueTables__limit">\n     <label>{{display(\'limit\')}}</label>\n     <select class="form-control"\n     v-model="limit"\n     @change="setPage(1)" >\n     <option v-for="value in options.perPageValues">{{value}}</option>\n   </select>\n </div>\n</div>\n</div>\n\n<table class="VueTables__table table" v-bind:class="options.skin">\n  <thead>\n    <tr>\n     <th @click="orderByColumn(column)"\n     v-for="column in columns"\n     v-bind:class="sortableClass(column)"><span class="VueTables__heading">{{getHeading(column)}}</span>\n     <span v-if="sortable(column)"\n           class="VueTables__sort-icon glyphicon pull-right"\n     v-bind:class="sortableChevronClass(column)"></span></th>\n   </tr>\n   <tr v-if="options.filterByColumn" class="VueTables__filters-row">\n    <th v-for="column in columns">\n      <input @keyup="search()"\n             v-if="options.dateColumns.indexOf(column)==-1 && customColumns.indexOf(column)==-1"\n             class="form-control"\n             type="text"\n             placeholder="{{display(\'filterBy\',getHeading(column))}}"\n             name="{{column}}"\n             v-model="query[column]">\n\n              <input @keyup="search()"\n             v-if="options.dateColumns.indexOf(column)>-1"\n             class="form-control"\n             placeholder="{{display(\'filterBy\',getHeading(column))}}"\n             name="{{column}}">\n    </th>\n  </tr>\n</thead>\n<tfoot v-if="options.footerHeadings">\n   <tr>\n     <th @click="orderByColumn(column)"\n     v-for="column in columns"\n     v-bind:class="sortableClass(column)"><span class="VueTables__heading">{{getHeading(column)}}</span>\n     <span v-if="sortable(column)"\n           class="VueTables__sort-icon glyphicon pull-right"\n     v-bind:class="sortableChevronClass(column)"></span></th>\n   </tr>\n</tfoot>\n<tbody v-el:tbody>\n <tr v-for="row in data [[rowFilters]]" [[trackBy]]>\n   <td v-for="column in columns"\n   v-html="row[column] | render row column [[columnFilters]]"></td>\n </tr>\n\n<tr v-if="count==0"\nclass="VueTables__no-results">\n<td class="text-center"\ncolspan="{{columns.length}}">\n{{display(\'noResults\')}}\n</td>\n</tr>\n</tbody>\n</table>\n\n<ul v-show="totalPages>1"\n  v-if="options.pagination && !options.pagination.dropdown"\n  class="pagination VueTables__pagination">\n\n  <li class="VueTables__pagination-item VueTables__pagination-item-prev-chunk"\n  v-bind:class="chunkNavDisabled(-1)?\'disabled\':\'\'">\n  <a href="javascript:void(0);"\n  @click="!chunkNavDisabled(-1) && chunk(-1)"><<</a>\n</li>\n\n\n<li class="VueTables__pagination-item VueTables__pagination-item-prev-page"\nv-bind:class="pageNavDisabled(-1)?\'disabled\':\'\'">\n<a href="javascript:void(0);"\n@click="!pageNavDisabled(-1) && setPage(page-1)"><</a>\n</li>\n\n<li class="VueTables__pagination-item"\nv-for="page in options.pagination.chunk"\nv-if="paginationStart + $index <= totalPages"\nv-bind:class="active(paginationStart + $index - 1)">\n<a href="javascript:void(0);"\n@click="setPage(paginationStart + $index)">{{paginationStart + $index}}</a>\n</li>\n\n<li class="VueTables__pagination-item VueTables__pagination-item-next-page"\nv-bind:class="pageNavDisabled(1)?\'disabled\':\'\'">\n<a href="javascript:void(0);"\n@click="!pageNavDisabled(1) && setPage(page+1)">></a>\n</li>\n\n<li class="VueTables__pagination-item VueTables__pagination-item-next-chunk"\nv-bind:class="chunkNavDisabled(1)?\'disabled\':\'\'">\n<a href="javascript:void(0);"\n@click="!chunkNavDisabled(1) && chunk(1)">>></a>\n</li>\n</ul>\n\n<p v-if="count!=0"\nclass="VueTables__count">{{display(\'count\', count)}}</p>\n</div>\n'},{}],46:[function(require,module,exports){var object_keys=require("./helpers/object-keys"),methods=require("./mixins/methods"),computed=require("./mixins/computed"),filters=require("./mixins/filters"),data=require("./mixins/data"),template=require("./helpers/generate-table-html");exports.install=function(Vue,globalOptions){var client={template:template({source:"Client",rowFilters:"| search q | orderBy orderBy.column orderBy.ascending | setCount | page",trackBy:'track-by="id"',columnFilters:"| date | highlightMatches column"}),mixins:[data,methods,computed,filters],props:{data:{type:Array,required:!0},options:{type:Object,required:!1,"default":function(){return{}}}},created:function(){var defaults=require("./config/defaults")();this.options=this.initOptions(defaults,globalOptions,this.options),this.options.compileTemplates&&this.setClientWatchers(),this.limit=this.options.perPage,this.allColumns=object_keys(this.data[0]),this.queryable=this.options.columns.length?this.options.columns:this.allColumns,this.templatesKeys=object_keys(this.options.templates),this.customColumns=this.templatesKeys.diff(this.allColumns),this.columns=this.queryable.concat(this.customColumns),this.addCustomColumns(),this.initOrderBy(this.columns[0]),this.query=this.initQuery(this.queryable),this.count=this.data.length},ready:function(){this.options.dateColumns.length&&this.initDateFilters()},data:function(){return{source:"client"}},computed:{q:require("./computed/q")},filters:{page:require("./filters/page"),setCount:require("./filters/set-count"),date:require("./filters/date"),search:require("./filters/search")},methods:{setClientWatchers:require("./methods/set-client-watchers")}};Vue.component("v-client-table",client)}},{"./computed/q":3,"./config/defaults":6,"./filters/date":7,"./filters/page":9,"./filters/search":11,"./filters/set-count":12,"./helpers/generate-table-html":14,"./helpers/object-keys":17,"./methods/set-client-watchers":35,"./mixins/computed":41,"./mixins/data":42,"./mixins/filters":43,"./mixins/methods":44}],47:[function(require,module,exports){var object_keys=require("./helpers/object-keys"),methods=require("./mixins/methods"),computed=require("./mixins/computed"),filters=require("./mixins/filters"),data=require("./mixins/data"),template=require("./helpers/generate-table-html");exports.install=function(Vue,globalOptions){Vue.use(require("vue-resource"));var server={template:template({source:"Server",rowFilters:"",trackBy:"",columnFilters:"| highlightMatches column"}),mixins:[data,methods,computed,filters],props:{url:{type:String,required:!0},options:{type:Object,required:!1,"default":function(){return{}}}},created:function(){var defaults=require("./config/defaults")();this.options=this.initOptions(defaults,globalOptions,this.options),this.options.compileTemplates&&this.$on("vue-tables.loaded",function(){this.compileTemplates()}),this.initOrderBy("id"),this.limit=this.options.perPage,this.getData().then(function(data){var data=data.data;return data.count||this.options.columns.length?(this.allColumns=object_keys(data.data[0]),this.columns=this.options.columns.length?this.options.columns:this.allColumns,this.query=this.initQuery(this.columns),this.templatesKeys=object_keys(this.options.templates),this.customColumns=this.templatesKeys?this.templatesKeys.diff(this.columns):[],this.columns=this.columns.concat(this.customColumns),this.setData(data),void(this.options.dateColumns.length&&setTimeout(function(){this.initDateFilters()}.bind(this),0))):void console.error("v-server-table: unable to set column names. No results returned from server upon first request. Please declare the columns excplicitly.")}.bind(this))},data:function(){return{source:"server",data:[],lastKeyStrokeAt:!1}},methods:{refresh:require("./methods/refresh"),getData:require("./methods/get-data"),setData:require("./methods/set-data")}};Vue.component("v-server-table",server)}},{"./config/defaults":6,"./helpers/generate-table-html":14,"./helpers/object-keys":17,"./methods/get-data":25,"./methods/refresh":33,"./methods/set-data":36,"./mixins/computed":41,"./mixins/data":42,"./mixins/filters":43,"./mixins/methods":44,"vue-resource":62}],48:[function(require,module,exports){!function(isNode){function merge_recursive(base,extend){if("object"!==typeOf(base))return extend;for(var key in extend)"object"===typeOf(base[key])&&"object"===typeOf(extend[key])?base[key]=merge_recursive(base[key],extend[key]):base[key]=extend[key];return base}function merge(clone,recursive,argv){var result=argv[0],size=argv.length;(clone||"object"!==typeOf(result))&&(result={});for(var index=0;size>index;++index){var item=argv[index],type=typeOf(item);if("object"===type)for(var key in item){var sitem=clone?Public.clone(item[key]):item[key];recursive?result[key]=merge_recursive(result[key],sitem):result[key]=sitem}}return result}function typeOf(input){return{}.toString.call(input).slice(8,-1).toLowerCase()}var Public=function(clone){return merge(clone===!0,!1,arguments)},publicName="merge";Public.recursive=function(clone){return merge(clone===!0,!0,arguments)},Public.clone=function(input){var index,size,output=input,type=typeOf(input);if("array"===type)for(output=[],size=input.length,index=0;size>index;++index)output[index]=Public.clone(input[index]);else if("object"===type){output={};for(index in input)output[index]=Public.clone(input[index])}return output},isNode?module.exports=Public:window[publicName]=Public}("object"==typeof module&&module&&"object"==typeof module.exports&&module.exports)},{}],49:[function(require,module,exports){var _=require("../util");module.exports={request:function(request){return _.isFunction(request.beforeSend)&&request.beforeSend.call(this,request),request}}},{"../util":72}],50:[function(require,module,exports){function parseHeaders(str){var value,name,i,headers={};return _.isString(str)&&_.each(str.split("\n"),function(row){i=row.indexOf(":"),name=_.trim(_.toLower(row.slice(0,i))),value=_.trim(row.slice(i+1)),headers[name]?_.isArray(headers[name])?headers[name].push(value):headers[name]=[headers[name],value]:headers[name]=value}),headers}var _=require("../../util"),Promise=require("../../promise"),xhrClient=require("./xhr");module.exports=function(request){var response=(request.client||xhrClient)(request);return Promise.resolve(response).then(function(response){if(response.headers){var headers=parseHeaders(response.headers);response.headers=function(name){return name?headers[_.toLower(name)]:headers}}return response.ok=response.status>=200&&response.status<300,response})}},{"../../promise":65,"../../util":72,"./xhr":53}],51:[function(require,module,exports){var _=require("../../util"),Promise=require("../../promise");module.exports=function(request){return new Promise(function(resolve){var handler,script,callback="_jsonp"+Math.random().toString(36).substr(2),response={request:request,data:null};request.params[request.jsonp]=callback,request.cancel=function(){handler({type:"cancel"})},script=document.createElement("script"),script.src=_.url(request),script.type="text/javascript",script.async=!0,window[callback]=function(data){response.data=data},handler=function(event){"load"===event.type&&null!==response.data?response.status=200:"error"===event.type?response.status=404:response.status=0,resolve(response),delete window[callback],document.body.removeChild(script)},script.onload=handler,script.onerror=handler,document.body.appendChild(script)})}},{"../../promise":65,"../../util":72}],52:[function(require,module,exports){var _=require("../../util"),Promise=require("../../promise");module.exports=function(request){return new Promise(function(resolve){var handler,xdr=new XDomainRequest,response={request:request};request.cancel=function(){xdr.abort()},xdr.open(request.method,_.url(request),!0),handler=function(event){response.data=xdr.responseText,response.status=xdr.status,response.statusText=xdr.statusText,resolve(response)},xdr.timeout=0,xdr.onload=handler,xdr.onabort=handler,xdr.onerror=handler,xdr.ontimeout=function(){},xdr.onprogress=function(){},xdr.send(request.data)})}},{"../../promise":65,"../../util":72}],53:[function(require,module,exports){var _=require("../../util"),Promise=require("../../promise");module.exports=function(request){return new Promise(function(resolve){var handler,xhr=new XMLHttpRequest,response={request:request};request.cancel=function(){xhr.abort()},xhr.open(request.method,_.url(request),!0),_.isPlainObject(request.xhr)&&_.extend(xhr,request.xhr),_.each(request.headers||{},function(value,header){xhr.setRequestHeader(header,value)}),handler=function(event){response.data=xhr.responseText,response.status=xhr.status,response.statusText=xhr.statusText,response.headers=xhr.getAllResponseHeaders(),resolve(response)},xhr.onload=handler,xhr.onabort=handler,xhr.onerror=handler,xhr.send(request.data)})}},{"../../promise":65,"../../util":72}],54:[function(require,module,exports){function crossOrigin(request){var requestUrl=_.url.parse(_.url(request));return requestUrl.protocol!==originUrl.protocol||requestUrl.host!==originUrl.host}var _=require("../util"),xdrClient=require("./client/xdr"),xhrCors="withCredentials"in new XMLHttpRequest,originUrl=_.url.parse(location.href);module.exports={request:function(request){return null===request.crossOrigin&&(request.crossOrigin=crossOrigin(request)),request.crossOrigin&&(xhrCors||(request.client=xdrClient),request.emulateHTTP=!1),request}}},{"../util":72,"./client/xdr":52}],55:[function(require,module,exports){var _=require("../util");module.exports={request:function(request){return request.method=request.method.toUpperCase(),request.headers=_.extend({},_.http.headers.common,request.crossOrigin?{}:_.http.headers.custom,_.http.headers[request.method.toLowerCase()],request.headers),_.isPlainObject(request.data)&&/^(GET|JSONP)$/i.test(request.method)&&(_.extend(request.params,request.data),delete request.data),request}}},{"../util":72}],56:[function(require,module,exports){function Http(url,options){var request,promise,client=Client;return Http.interceptors.forEach(function(handler){client=interceptor(handler,this.$vm)(client)},this),options=_.isObject(url)?url:_.extend({url:url},options),request=_.merge({},Http.options,this.$options,options),promise=client(request).bind(this.$vm).then(function(response){return response.ok?response:Promise.reject(response)},function(response){return response instanceof Error&&_.error(response),Promise.reject(response)}),request.success&&promise.success(request.success),request.error&&promise.error(request.error),promise}var _=require("../util"),Client=require("./client"),Promise=require("../promise"),interceptor=require("./interceptor"),jsonType={"Content-Type":"application/json"};Http.options={method:"get",data:"",params:{},headers:{},xhr:null,jsonp:"callback",beforeSend:null,crossOrigin:null,emulateHTTP:!1,emulateJSON:!1,timeout:0},Http.interceptors=[require("./before"),require("./timeout"),require("./jsonp"),require("./method"),require("./mime"),require("./header"),require("./cors")],Http.headers={put:jsonType,post:jsonType,patch:jsonType,"delete":jsonType,common:{Accept:"application/json, text/plain, */*"},custom:{"X-Requested-With":"XMLHttpRequest"}},["get","put","post","patch","delete","jsonp"].forEach(function(method){Http[method]=function(url,data,success,options){return _.isFunction(data)&&(options=success,success=data,data=void 0),_.isObject(success)&&(options=success,success=void 0),this(url,_.extend({method:method,data:data,success:success},options))}}),module.exports=_.http=Http},{"../promise":65,"../util":72,"./before":49,"./client":50,"./cors":54,"./header":55,"./interceptor":57,"./jsonp":58,"./method":59,"./mime":60,"./timeout":61}],57:[function(require,module,exports){function when(value,fulfilled,rejected){var promise=Promise.resolve(value);return arguments.length<2?promise:promise.then(fulfilled,rejected)}var _=require("../util"),Promise=require("../promise");module.exports=function(handler,vm){return function(client){return _.isFunction(handler)&&(handler=handler.call(vm,Promise)),function(request){return _.isFunction(handler.request)&&(request=handler.request.call(vm,request)),when(request,function(request){return when(client(request),function(response){return _.isFunction(handler.response)&&(response=handler.response.call(vm,response)),response})})}}}},{"../promise":65,"../util":72}],58:[function(require,module,exports){var jsonpClient=require("./client/jsonp");module.exports={request:function(request){return"JSONP"==request.method&&(request.client=jsonpClient),request}}},{"./client/jsonp":51}],59:[function(require,module,exports){module.exports={request:function(request){return request.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(request.method)&&(request.headers["X-HTTP-Method-Override"]=request.method,request.method="POST"),request}}},{}],60:[function(require,module,exports){var _=require("../util");module.exports={request:function(request){return request.emulateJSON&&_.isPlainObject(request.data)&&(request.headers["Content-Type"]="application/x-www-form-urlencoded",request.data=_.url.params(request.data)),_.isObject(request.data)&&/FormData/i.test(request.data.toString())&&delete request.headers["Content-Type"],_.isPlainObject(request.data)&&(request.data=JSON.stringify(request.data)),request},response:function(response){try{response.data=JSON.parse(response.data)}catch(e){}return response}}},{"../util":72}],61:[function(require,module,exports){module.exports=function(){var timeout;return{request:function(request){return request.timeout&&(timeout=setTimeout(function(){request.cancel()},request.timeout)),request},response:function(response){return clearTimeout(timeout),response}}}},{}],62:[function(require,module,exports){function install(Vue){var _=require("./util");_.config=Vue.config,_.warning=Vue.util.warn,_.nextTick=Vue.util.nextTick,Vue.url=require("./url"),Vue.http=require("./http"),Vue.resource=require("./resource"),
Vue.Promise=require("./promise"),Object.defineProperties(Vue.prototype,{$url:{get:function(){return _.options(Vue.url,this,this.$options.url)}},$http:{get:function(){return _.options(Vue.http,this,this.$options.http)}},$resource:{get:function(){return Vue.resource.bind(this)}},$promise:{get:function(){return function(executor){return new Vue.Promise(executor,this)}.bind(this)}}})}window.Vue&&Vue.use(install),module.exports=install},{"./http":56,"./promise":65,"./resource":66,"./url":67,"./util":72}],63:[function(require,module,exports){function Promise(executor){this.state=PENDING,this.value=void 0,this.deferred=[];var promise=this;try{executor(function(x){promise.resolve(x)},function(r){promise.reject(r)})}catch(e){promise.reject(e)}}var _=require("../util"),RESOLVED=0,REJECTED=1,PENDING=2;Promise.reject=function(r){return new Promise(function(resolve,reject){reject(r)})},Promise.resolve=function(x){return new Promise(function(resolve,reject){resolve(x)})},Promise.all=function(iterable){return new Promise(function(resolve,reject){function resolver(i){return function(x){result[i]=x,count+=1,count===iterable.length&&resolve(result)}}var count=0,result=[];0===iterable.length&&resolve(result);for(var i=0;i<iterable.length;i+=1)Promise.resolve(iterable[i]).then(resolver(i),reject)})},Promise.race=function(iterable){return new Promise(function(resolve,reject){for(var i=0;i<iterable.length;i+=1)Promise.resolve(iterable[i]).then(resolve,reject)})};var p=Promise.prototype;p.resolve=function(x){var promise=this;if(promise.state===PENDING){if(x===promise)throw new TypeError("Promise settled with itself.");var called=!1;try{var then=x&&x.then;if(null!==x&&"object"==typeof x&&"function"==typeof then)return void then.call(x,function(x){called||promise.resolve(x),called=!0},function(r){called||promise.reject(r),called=!0})}catch(e){return void(called||promise.reject(e))}promise.state=RESOLVED,promise.value=x,promise.notify()}},p.reject=function(reason){var promise=this;if(promise.state===PENDING){if(reason===promise)throw new TypeError("Promise settled with itself.");promise.state=REJECTED,promise.value=reason,promise.notify()}},p.notify=function(){var promise=this;_.nextTick(function(){if(promise.state!==PENDING)for(;promise.deferred.length;){var deferred=promise.deferred.shift(),onResolved=deferred[0],onRejected=deferred[1],resolve=deferred[2],reject=deferred[3];try{promise.state===RESOLVED?resolve("function"==typeof onResolved?onResolved.call(void 0,promise.value):promise.value):promise.state===REJECTED&&("function"==typeof onRejected?resolve(onRejected.call(void 0,promise.value)):reject(promise.value))}catch(e){reject(e)}}})},p.then=function(onResolved,onRejected){var promise=this;return new Promise(function(resolve,reject){promise.deferred.push([onResolved,onRejected,resolve,reject]),promise.notify()})},p["catch"]=function(onRejected){return this.then(void 0,onRejected)},module.exports=Promise},{"../util":72}],64:[function(require,module,exports){exports.expand=function(url,params,variables){var tmpl=this.parse(url),expanded=tmpl.expand(params);return variables&&variables.push.apply(variables,tmpl.vars),expanded},exports.parse=function(template){var operators=["+","#",".","/",";","?","&"],variables=[];return{vars:variables,expand:function(context){return template.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(_,expression,literal){if(expression){var operator=null,values=[];if(-1!==operators.indexOf(expression.charAt(0))&&(operator=expression.charAt(0),expression=expression.substr(1)),expression.split(/,/g).forEach(function(variable){var tmp=/([^:\*]*)(?::(\d+)|(\*))?/.exec(variable);values.push.apply(values,exports.getValues(context,operator,tmp[1],tmp[2]||tmp[3])),variables.push(tmp[1])}),operator&&"+"!==operator){var separator=",";return"?"===operator?separator="&":"#"!==operator&&(separator=operator),(0!==values.length?operator:"")+values.join(separator)}return values.join(",")}return exports.encodeReserved(literal)})}}},exports.getValues=function(context,operator,key,modifier){var value=context[key],result=[];if(this.isDefined(value)&&""!==value)if("string"==typeof value||"number"==typeof value||"boolean"==typeof value)value=value.toString(),modifier&&"*"!==modifier&&(value=value.substring(0,parseInt(modifier,10))),result.push(this.encodeValue(operator,value,this.isKeyOperator(operator)?key:null));else if("*"===modifier)Array.isArray(value)?value.filter(this.isDefined).forEach(function(value){result.push(this.encodeValue(operator,value,this.isKeyOperator(operator)?key:null))},this):Object.keys(value).forEach(function(k){this.isDefined(value[k])&&result.push(this.encodeValue(operator,value[k],k))},this);else{var tmp=[];Array.isArray(value)?value.filter(this.isDefined).forEach(function(value){tmp.push(this.encodeValue(operator,value))},this):Object.keys(value).forEach(function(k){this.isDefined(value[k])&&(tmp.push(encodeURIComponent(k)),tmp.push(this.encodeValue(operator,value[k].toString())))},this),this.isKeyOperator(operator)?result.push(encodeURIComponent(key)+"="+tmp.join(",")):0!==tmp.length&&result.push(tmp.join(","))}else";"===operator?result.push(encodeURIComponent(key)):""!==value||"&"!==operator&&"?"!==operator?""===value&&result.push(""):result.push(encodeURIComponent(key)+"=");return result},exports.isDefined=function(value){return void 0!==value&&null!==value},exports.isKeyOperator=function(operator){return";"===operator||"&"===operator||"?"===operator},exports.encodeValue=function(operator,value,key){return value="+"===operator||"#"===operator?this.encodeReserved(value):encodeURIComponent(value),key?encodeURIComponent(key)+"="+value:value},exports.encodeReserved=function(str){return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part){return/%[0-9A-Fa-f]/.test(part)||(part=encodeURI(part)),part}).join("")}},{}],65:[function(require,module,exports){function Promise(executor,context){executor instanceof PromiseObj?this.promise=executor:this.promise=new PromiseObj(executor.bind(context)),this.context=context}var _=require("./util"),PromiseObj=window.Promise||require("./lib/promise");Promise.all=function(iterable,context){return new Promise(PromiseObj.all(iterable),context)},Promise.resolve=function(value,context){return new Promise(PromiseObj.resolve(value),context)},Promise.reject=function(reason,context){return new Promise(PromiseObj.reject(reason),context)},Promise.race=function(iterable,context){return new Promise(PromiseObj.race(iterable),context)};var p=Promise.prototype;p.bind=function(context){return this.context=context,this},p.then=function(fulfilled,rejected){return fulfilled&&fulfilled.bind&&this.context&&(fulfilled=fulfilled.bind(this.context)),rejected&&rejected.bind&&this.context&&(rejected=rejected.bind(this.context)),this.promise=this.promise.then(fulfilled,rejected),this},p["catch"]=function(rejected){return rejected&&rejected.bind&&this.context&&(rejected=rejected.bind(this.context)),this.promise=this.promise["catch"](rejected),this},p["finally"]=function(callback){return this.then(function(value){return callback.call(this),value},function(reason){return callback.call(this),PromiseObj.reject(reason)})},p.success=function(callback){return _.warn("The `success` method has been deprecated. Use the `then` method instead."),this.then(function(response){return callback.call(this,response.data,response.status,response)||response})},p.error=function(callback){return _.warn("The `error` method has been deprecated. Use the `catch` method instead."),this["catch"](function(response){return callback.call(this,response.data,response.status,response)||response})},p.always=function(callback){_.warn("The `always` method has been deprecated. Use the `finally` method instead.");var cb=function(response){return callback.call(this,response.data,response.status,response)||response};return this.then(cb,cb)},module.exports=Promise},{"./lib/promise":63,"./util":72}],66:[function(require,module,exports){function Resource(url,params,actions,options){var self=this,resource={};return actions=_.extend({},Resource.actions,actions),_.each(actions,function(action,name){action=_.merge({url:url,params:params||{}},options,action),resource[name]=function(){return(self.$http||_.http)(opts(action,arguments))}}),resource}function opts(action,args){var data,success,error,options=_.extend({},action),params={};switch(args.length){case 4:error=args[3],success=args[2];case 3:case 2:if(!_.isFunction(args[1])){params=args[0],data=args[1],success=args[2];break}if(_.isFunction(args[0])){success=args[0],error=args[1];break}success=args[1],error=args[2];case 1:_.isFunction(args[0])?success=args[0]:/^(POST|PUT|PATCH)$/i.test(options.method)?data=args[0]:params=args[0];break;case 0:break;default:throw"Expected up to 4 arguments [params, data, success, error], got "+args.length+" arguments"}return options.data=data,options.params=_.extend({},options.params,params),success&&(options.success=success),error&&(options.error=error),options}var _=require("./util");Resource.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},"delete":{method:"DELETE"}},module.exports=_.resource=Resource},{"./util":72}],67:[function(require,module,exports){function Url(url,params){var transform,options=url;return _.isString(url)&&(options={url:url,params:params}),options=_.merge({},Url.options,this.$options,options),Url.transforms.forEach(function(handler){transform=factory(handler,transform,this.$vm)},this),transform(options)}function factory(handler,next,vm){return function(options){return handler.call(vm,options,next)}}function serialize(params,obj,scope){var hash,array=_.isArray(obj),plain=_.isPlainObject(obj);_.each(obj,function(value,key){hash=_.isObject(value)||_.isArray(value),scope&&(key=scope+"["+(plain||hash?key:"")+"]"),!scope&&array?params.add(value.name,value.value):hash?serialize(params,value,key):params.add(key,value)})}var _=require("../util"),ie=document.documentMode,el=document.createElement("a");Url.options={url:"",root:null,params:{}},Url.transforms=[require("./template"),require("./legacy"),require("./query"),require("./root")],Url.params=function(obj){var params=[],escape=encodeURIComponent;return params.add=function(key,value){_.isFunction(value)&&(value=value()),null===value&&(value=""),this.push(escape(key)+"="+escape(value))},serialize(params,obj),params.join("&").replace(/%20/g,"+")},Url.parse=function(url){return ie&&(el.href=url,url=el.href),el.href=url,{href:el.href,protocol:el.protocol?el.protocol.replace(/:$/,""):"",port:el.port,host:el.host,hostname:el.hostname,pathname:"/"===el.pathname.charAt(0)?el.pathname:"/"+el.pathname,search:el.search?el.search.replace(/^\?/,""):"",hash:el.hash?el.hash.replace(/^#/,""):""}},module.exports=_.url=Url},{"../util":72,"./legacy":68,"./query":69,"./root":70,"./template":71}],68:[function(require,module,exports){function encodeUriSegment(value){return encodeUriQuery(value,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(value,spaces){return encodeURIComponent(value).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,spaces?"%20":"+")}var _=require("../util");module.exports=function(options,next){var variables=[],url=next(options);return url=url.replace(/(\/?):([a-z]\w*)/gi,function(match,slash,name){return _.warn("The `:"+name+"` parameter syntax has been deprecated. Use the `{"+name+"}` syntax instead."),options.params[name]?(variables.push(name),slash+encodeUriSegment(options.params[name])):""}),variables.forEach(function(key){delete options.params[key]}),url}},{"../util":72}],69:[function(require,module,exports){var _=require("../util");module.exports=function(options,next){var urlParams=Object.keys(_.url.options.params),query={},url=next(options);return _.each(options.params,function(value,key){-1===urlParams.indexOf(key)&&(query[key]=value)}),query=_.url.params(query),query&&(url+=(-1==url.indexOf("?")?"?":"&")+query),url}},{"../util":72}],70:[function(require,module,exports){var _=require("../util");module.exports=function(options,next){var url=next(options);return _.isString(options.root)&&!url.match(/^(https?:)?\//)&&(url=options.root+"/"+url),url}},{"../util":72}],71:[function(require,module,exports){var UrlTemplate=require("../lib/url-template");module.exports=function(options){var variables=[],url=UrlTemplate.expand(options.url,options.params,variables);return variables.forEach(function(key){delete options.params[key]}),url}},{"../lib/url-template":64}],72:[function(require,module,exports){function merge(target,source,deep){for(var key in source)deep&&(_.isPlainObject(source[key])||_.isArray(source[key]))?(_.isPlainObject(source[key])&&!_.isPlainObject(target[key])&&(target[key]={}),_.isArray(source[key])&&!_.isArray(target[key])&&(target[key]=[]),merge(target[key],source[key],deep)):void 0!==source[key]&&(target[key]=source[key])}var _=exports,array=[],console=window.console;_.warn=function(msg){console&&_.warning&&(!_.config.silent||_.config.debug)&&console.warn("[VueResource warn]: "+msg)},_.error=function(msg){console&&console.error(msg)},_.trim=function(str){return str.replace(/^\s*|\s*$/g,"")},_.toLower=function(str){return str?str.toLowerCase():""},_.isArray=Array.isArray,_.isString=function(val){return"string"==typeof val},_.isFunction=function(val){return"function"==typeof val},_.isObject=function(obj){return null!==obj&&"object"==typeof obj},_.isPlainObject=function(obj){return _.isObject(obj)&&Object.getPrototypeOf(obj)==Object.prototype},_.options=function(fn,obj,options){return options=options||{},_.isFunction(options)&&(options=options.call(obj)),_.merge(fn.bind({$vm:obj,$options:options}),fn,{$options:options})},_.each=function(obj,iterator){var i,key;if("number"==typeof obj.length)for(i=0;i<obj.length;i++)iterator.call(obj[i],obj[i],i);else if(_.isObject(obj))for(key in obj)obj.hasOwnProperty(key)&&iterator.call(obj[key],obj[key],key);return obj},_.defaults=function(target,source){for(var key in source)void 0===target[key]&&(target[key]=source[key]);return target},_.extend=function(target){var args=array.slice.call(arguments,1);return args.forEach(function(arg){merge(target,arg)}),target},_.merge=function(target){var args=array.slice.call(arguments,1);return args.forEach(function(arg){merge(target,arg,!0)}),target}},{}],73:[function(require,module,exports){String.prototype.ucfirst=require("./lib/helpers/ucfirst"),Array.prototype.diff=require("./lib/helpers/array-diff"),exports.client=require("./lib/v-client-table"),exports.server=require("./lib/v-server-table")},{"./lib/helpers/array-diff":13,"./lib/helpers/ucfirst":18,"./lib/v-client-table":46,"./lib/v-server-table":47}]},{},[73])(73)});
