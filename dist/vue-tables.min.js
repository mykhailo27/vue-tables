!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.VueTables=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){exports.client=_dereq_("./lib/v-client-table"),exports.server=_dereq_("./lib/v-server-table")},{"./lib/v-client-table":26,"./lib/v-server-table":27}],2:[function(_dereq_,module,exports){module.exports=function(index){return this.page==index+1?"active":""}},{}],3:[function(_dereq_,module,exports){module.exports=function(data,extras){data.forEach(function(row,index){for(var extra in extras)this.$set("tableData["+index+"]."+extra,extras[extra])}.bind(this))}},{}],4:[function(_dereq_,module,exports){module.exports=function(direction){var page=(this.currentChunk-1+direction)*this.pagination.chunk+1;this.setPage(page)}},{}],5:[function(_dereq_,module,exports){module.exports={get:function(){return Math.ceil(this.page/this.pagination.chunk)}}},{}],6:[function(_dereq_,module,exports){module.exports=function(direction){return 1==direction&&this.currentChunk==this.totalChunks||-1==direction&&1==this.currentChunk}},{}],7:[function(_dereq_,module,exports){module.exports=function(text,param){return text.replace(/{.+}/,param)}},{}],8:[function(_dereq_,module,exports){module.exports=function(all){var columns=[],userColumns=this.$parent.columns;this.tableData;for(var x in this.tableData[0])(all||!userColumns||$.inArray(x,userColumns)>-1||this.extrasKeys.indexOf(x)>-1)&&columns.push(x);return columns}},{}],9:[function(_dereq_,module,exports){module.exports=function(value){return"undefined"!=typeof this.$parent.headings&&this.$parent.headings.hasOwnProperty(value)?this.$parent.headings[value]:value.split("_").join(" ")}},{}],10:[function(_dereq_,module,exports){module.exports=function(){return{tableData:[],source:null,cols:!1,allColumns:!1,totalPages:null,currentRecordsCount:null,lengths:[5,10,20,50],ascending:1,orderBy:null,query:"",page:1,limit:10,count:0,templates:null,templatesKeys:[],extras:null,extrasKeys:[],currentRecordsCount:null,texts:{count:"{count} Records",filter:"Filter Results:",filterPlaceholder:"Search query",limit:"Records:",page:"Page:"},pagination:{dropdown:!1,chunk:10}}}},{}],11:[function(_dereq_,module,exports){module.exports=function(colName){this.sortable(colName)&&(colName==this.orderBy&&(this.ascending=1==this.ascending?-1:1),this.orderBy=colName,"server"==this.source&&this.getDataFromServer())}},{}],12:[function(_dereq_,module,exports){module.exports=function(index){return this.sortable(this.cols[index])?this.cols[index]!=this.orderBy?"":1==this.ascending?"fa-sort-asc":"fa-sort-desc":void 0}},{}],13:[function(_dereq_,module,exports){module.exports={get:function(){return(this.currentChunk-1)*this.pagination.chunk+1}}},{}],14:[function(_dereq_,module,exports){module.exports=function(page){this.page=page,"server"==this.source&&this.getDataFromServer()}},{}],15:[function(_dereq_,module,exports){module.exports=function(column){var isExtra=this.extrasKeys.indexOf(column)>-1;if(isExtra)return!1;var sortAll=!this.$parent.hasOwnProperty("sortable");return sortAll?!0:this.$parent.sortable.indexOf(column)>-1}},{}],16:[function(_dereq_,module,exports){module.exports={get:function(){return Math.ceil(this.totalPages/this.pagination.chunk)}}},{}],17:[function(_dereq_,module,exports){module.exports={get:function(){return Math.ceil(this.count/this.limit)}}},{}],18:[function(_dereq_,module,exports){module.exports=function(property){return property instanceof Date?this.dateFormatter(property):property}},{}],19:[function(_dereq_,module,exports){module.exports=function(data){var limit=parseInt(this.limit),page=parseInt(this.page),offset=limit*(page-1);return data.slice(offset,limit+offset)}},{}],20:[function(_dereq_,module,exports){module.exports=function(value,row,column){if(-1==$.inArray(column,this.templatesKeys))return value;var regex,template=this.templates[column];return this.allColumns.forEach(function(col){regex=new RegExp("{"+col+"}","g"),template=template.replace(regex,String(row[col]))}.bind(this)),template}},{}],21:[function(_dereq_,module,exports){module.exports=function(data){return this.count=data.length,data}},{}],22:[function(_dereq_,module,exports){module.exports={units:[],dateUnitsCount:0,separator:null,get:function(format){try{var dateAndTime=format.split(" "),date=dateAndTime[0],time=dateAndTime.length>1?dateAndTime[1]:!1,regex=new RegExp("[-./]"),separator=date.match(regex);this.separator=separator?separator[0]:"-";var dateUnits=date.split(regex);this.dateUnitsCount=dateUnits.length;var timeUnits=time?time.split(":"):[];return dateUnits.push.apply(dateUnits,timeUnits),this._pushUnits(dateUnits),this._formatter()}catch(err){return"undefined"!=typeof format&&console.warn(err),function(date){return date.toLocaleDateString()}}},_formatter:function(){return function(date){var separator,formattedDate="";return this.units.forEach(function(unit,index){separator=this._getSeparator(index+1),formattedDate+=unit(date)+separator}.bind(this)),formattedDate.slice(0,-1)}.bind(this)},_getSeparator:function(index){switch(!0){case index<this.dateUnitsCount:return this.separator;case index==this.dateUnitsCount:return" ";case index>this.dateUnitsCount:return":"}},_pushUnits:function(units){return units.every(function(unit,index){return(unit=this._getUnitFunction(unit))?(this.units.push(unit),!0):!1}.bind(this)),this.units.length},_getUnitFunction:_dereq_("./get-unit-function")}},{"./get-unit-function":23}],23:[function(_dereq_,module,exports){module.exports=function(unit){switch(unit){case"d":return function(date){return date.getDate()};case"m":return function(date){return date.getMonth()+1};case"D":return function(date){return("0"+date.getDate()).slice(-2)};case"M":return function(date){return("0"+(date.getMonth()+1)).slice(-2)};case"Y":case"y":return function(date){return date.getFullYear()};case"g":return function(date){var hours=date.getHours();return hours>12?hours-12:hours};case"G":return function(date){return date.getHours()};case"h":return function(date){return hours=date.getHours(),hours=hours>12?hours-12:hours,("0"+hours).slice(-2)};case"H":return function(date){return("0"+date.getHours()).slice(-2)};case"i":return function(date){return("0"+date.getMinutes()).slice(-2)};case"s":return function(date){return("0"+date.getSeconds()).slice(-2)}}throw"vue-tables: invalid date format. Resorting to Date.toLocaleDateString()"}},{}],24:[function(_dereq_,module,exports){module.exports=function(obj1,obj2){var obj3={};for(var attrname in obj1)obj3[attrname]=obj1[attrname];for(var attrname in obj2)obj3[attrname]=obj2[attrname];return obj3}},{}],25:[function(_dereq_,module,exports){module.exports=function(obj){var keys=[];for(var prop in obj)keys.push(prop);return keys}},{}],26:[function(_dereq_,module,exports){var object_keys=_dereq_("./helpers/object-keys");exports.install=function(Vue,opts){var merge_options=_dereq_("./helpers/merge-options"),client={template:'<div class="vue-table-wrapper">\n<div class="row">\n<div class="col-md-6">\n<div class="form-group form-inline pull-left vue-table-search">\n<label>{{texts.filter}}</label>\n	<input class="form-control" type="text" name="vue-search" placeholder="{{texts.filterPlaceholder}}" @keyup="setPage(1)" v-model="query">\n</div>\n</div>\n<div class="col-md-6">\n\n<div v-if="pagination.dropdown" class="form-group form-inline pull-right vue-select-pagination">\n <label>{{texts.page}}</label>\n  <select class="form-control" v-model="page" @change="setPage(page)">\n 		<option v-for="page in totalPages">{{page+1}}</option>\n </select>\n </div>\n\n<div class="form-group form-inline pull-right vue-limit">\n <label>{{texts.limit}}</label>\n <select class="form-control" v-model="limit" @change="setPage(1)" >\n 	<option v-for="length in lengths">{{length}}</option>\n </select>\n </div>\n\n</div>\n</div>\n\n	<table class="vue-table table table-striped">\n				<thead>\n					<th @click="orderByColumn(cols[$index])" v-for="col in cols"><span class="vue-table-heading">{{getHeading(col)}}</span><i class="vue-table-sort-icon text-muted fa" v-bind:class="orderClass($index)"></i></th>\n				</thead>\n				<tbody>\n					<tr v-for="row in tableData | filterBy query | orderBy orderBy ascending | setCount |  page " track-by="id">\n							<td v-for="column in cols" v-html="row[column] | render row column | date"></td>\n					</tr>\n				</tbody>\n\n	</table>\n\n<ul v-show="totalPages>1" v-if="!pagination.dropdown" class="pagination vue-table-pagination">\n  <li v-bind:class="disabled(-1)?\'disabled\':\'\'"><a href="javascript:void(0);"  @click="!disabled(-1) && chunk(-1)"><<</a></li>\n  <li v-for="page in pagination.chunk" v-if="paginationStart + $index <= totalPages" v-bind:class="active(paginationStart + $index - 1)"><a href="javascript:void(0);" @click="setPage(paginationStart + $index)">{{paginationStart + $index}}</a></li>\n  <li v-bind:class="disabled(1)?\'disabled\':\'\'"><a href="javascript:void(0);" @click="!disabled(1) && chunk(1)">>></a></li>\n</ul>\n\n<p>{{displayText(texts.count, count)}}</p>\n</div>\n',ready:function(){this.source="client",this.dateFormatter=_dereq_("./helpers/date-formatter").get(this.$parent.dateFormat),this.tableData=this.$parent.tableData;JSON.parse(JSON.stringify(this.tableData));this.$parent.hasOwnProperty("texts")&&(this.texts=merge_options(this.texts,this.$parent.texts)),this.$parent.hasOwnProperty("pagination")&&(this.pagination=merge_options(this.pagination,this.$parent.pagination)),this.$parent.hasOwnProperty("limit")&&this.lengths.indexOf(this.$parent.limit)>-1&&(this.limit=this.$parent.limit),this.$parent.hasOwnProperty("templates")&&(this.templates=this.$parent.templates,this.templatesKeys=object_keys(this.templates)),this.$parent.hasOwnProperty("extras")&&(this.extras=this.$parent.extras,this.extrasKeys=object_keys(this.extras),this.templates=merge_options(this.templates,this.extras),this.addExtras(this.tableData,this.extras)),this.cols=this.getColumns(),this.allColumns=this.getColumns(!0),this.orderBy=this.cols[0],this.templatesKeys=this.templatesKeys.concat(this.extrasKeys),this.count=this.tableData.length},data:_dereq_("./common/initial-data.js"),computed:{totalPages:_dereq_("./common/total-pages"),paginationStart:_dereq_("./common/pagination-start"),totalChunks:_dereq_("./common/total-chunks"),currentChunk:_dereq_("./common/current-chunk")},filters:{page:_dereq_("./filters/page"),setCount:_dereq_("./filters/set-count"),date:_dereq_("./filters/date"),render:_dereq_("./filters/render")},methods:{active:_dereq_("./common/active"),orderClass:_dereq_("./common/order-class"),displayText:_dereq_("./common/display-text"),orderByColumn:_dereq_("./common/order-by-column"),getHeading:_dereq_("./common/get-heading"),setPage:_dereq_("./common/set-page"),addExtras:_dereq_("./common/add-extras"),getColumns:_dereq_("./common/get-columns"),sortable:_dereq_("./common/sortable"),chunk:_dereq_("./common/chunk"),disabled:_dereq_("./common/disabled")}};Vue.component("v-client-table",client)}},{"./common/active":2,"./common/add-extras":3,"./common/chunk":4,"./common/current-chunk":5,"./common/disabled":6,"./common/display-text":7,"./common/get-columns":8,"./common/get-heading":9,"./common/initial-data.js":10,"./common/order-by-column":11,"./common/order-class":12,"./common/pagination-start":13,"./common/set-page":14,"./common/sortable":15,"./common/total-chunks":16,"./common/total-pages":17,"./filters/date":18,"./filters/page":19,"./filters/render":20,"./filters/set-count":21,"./helpers/date-formatter":22,"./helpers/merge-options":24,"./helpers/object-keys":25}],27:[function(_dereq_,module,exports){var object_keys=_dereq_("./helpers/object-keys");exports.install=function(Vue,options){var merge_options=_dereq_("./helpers/merge-options"),server={template:'<div class="vue-table-wrapper">\n<div class="row">\n<div class="col-md-6">\n<div class="form-group form-inline pull-left vue-table-search">\n<label>{{texts.filter}}</label>\n	<input class="form-control" type="text" name="vue-search" placeholder="{{texts.filterPlaceholder}}" @keyup="setPage(1)" v-model="query">\n</div>\n</div>\n<div class="col-md-6">\n\n<div v-if="pagination.dropdown" class="form-group form-inline pull-right vue-table-select-pagination">\n <label>{{texts.page}}</label>\n  <select class="form-control" v-model="page" @change="setPage(page)">\n 		<option v-for="page in totalPages">{{page+1}}</option>\n </select>\n </div>\n\n<div class="form-group form-inline pull-right vue-limit">\n <label>{{texts.limit}}</label>\n <select class="form-control" v-model="limit" name="{{filterPlaceholder}}" @change="setPage(1)" >\n 	<option v-for="length in lengths">{{length}}</option>\n </select>\n </div>\n</div>\n</div>\n\n	<table class="vue-table table table-striped">\n				<thead>\n					<th @click="orderByColumn(cols[$index])"  v-for="col in cols"><span class="vue-table-heading">{{getHeading(col)}}</span><i class="vue-table-sort-icon text-muted fa" v-bind:class="orderClass($index)"></i></th>\n				</thead>\n\n				<tbody>\n					<tr v-for="row in tableData">\n							<td v-for="column in cols" v-html="row[column] | render row column"></td>\n					</tr>\n				</tbody>\n\n	</table>\n\n<ul v-show="totalPages>1" v-if="!pagination.dropdown" class="pagination vue-table-pagination">\n  <li v-bind:class="disabled(-1)?\'disabled\':\'\'"><a href="javascript:void(0);"  @click="!disabled(-1) && chunk(-1)"><<</a></li>\n  <li v-for="page in pagination.chunk" v-if="paginationStart + $index <= totalPages" v-bind:class="active(paginationStart + $index - 1)"><a href="javascript:void(0);" @click="setPage(paginationStart + $index)">{{paginationStart + $index}}</a></li>\n  <li v-bind:class="disabled(1)?\'disabled\':\'\'"><a href="javascript:void(0);" @click="!disabled(1) && chunk(1)">>></a></li>\n</ul>\n\n<p>{{displayText(texts.count, count)}}</p>\n</div>\n',ready:function(){this.source="server",this.$parent.hasOwnProperty("texts")&&(this.texts=merge_options(this.texts,this.$parent.texts)),this.$parent.hasOwnProperty("pagination")&&(this.pagination=merge_options(this.pagination,this.$parent.pagination)),this.$parent.hasOwnProperty("limit")&&this.lengths.indexOf(this.$parent.limit)>-1&&(this.limit=this.$parent.limit),this.$parent.hasOwnProperty("templates")&&(this.templates=this.$parent.templates,this.templatesKeys=object_keys(this.templates),"undefined"!=typeof this.$parent.extras&&(this.extras=this.$parent.extras),this.extrasKeys=object_keys(this.extras),this.templatesKeys=this.templatesKeys.concat(this.extrasKeys),this.templates=merge_options(this.templates,this.extras)),this.getDataFromServer(!0)},data:_dereq_("./common/initial-data"),computed:{totalPages:_dereq_("./common/total-pages"),paginationStart:_dereq_("./common/pagination-start"),totalChunks:_dereq_("./common/total-chunks"),currentChunk:_dereq_("./common/current-chunk")},filters:{render:_dereq_("./filters/render")},methods:{active:_dereq_("./common/active"),orderClass:_dereq_("./common/order-class"),displayText:_dereq_("./common/display-text"),orderByColumn:_dereq_("./common/order-by-column"),getHeading:_dereq_("./common/get-heading"),setPage:_dereq_("./common/set-page"),addExtras:_dereq_("./common/add-extras"),getColumns:_dereq_("./common/get-columns"),sortable:_dereq_("./common/sortable"),chunk:_dereq_("./common/chunk"),disabled:_dereq_("./common/disabled"),getDataFromServer:function(first){var that=this,promise=$.ajax({url:this.$parent.url,dataType:"json",data:{query:this.query.trim(),limit:this.limit,orderBy:this.orderBy,ascending:this.ascending,page:this.page},success:function(data){JSON.parse(JSON.stringify(data.data));that.tableData=data.data,that.count=data.count,first&&(that.extras&&that.addExtras(that.tableData,that.extras),that.cols=that.getColumns(),that.allColumns=that.getColumns(!0),that.orderBy=that.cols[0])}});return promise}}};Vue.component("v-server-table",server)}},{"./common/active":2,"./common/add-extras":3,"./common/chunk":4,"./common/current-chunk":5,"./common/disabled":6,"./common/display-text":7,"./common/get-columns":8,"./common/get-heading":9,"./common/initial-data":10,"./common/order-by-column":11,"./common/order-class":12,"./common/pagination-start":13,"./common/set-page":14,"./common/sortable":15,"./common/total-chunks":16,"./common/total-pages":17,"./filters/render":20,"./helpers/merge-options":24,"./helpers/object-keys":25}]},{},[1])(1)});
